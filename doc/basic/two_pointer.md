# 双指针问题

区间用左闭右闭[st, ed]表示.

st: tail, delete操作.

ed: head, add操作.

1. 固定st, ed中ok条件.

2. 固定ed, st中not ok条件.

写法表现为2重循环, 固定的端点在外层循环, 条件变化的端点在内层循环.

循环方向可以有2个方向, 甚至是循环位移.

注意区间端点性质:

循环从小到大, 有`st <= ed`.  
循环从大到小, 有`ed <= st`.  
循环位移同理, 但是可能判定有点复杂, 遇到了再说.

不管什么循环, st都是在ed后面的, 保证区间长度至少为1(当然可能这1个也不满足条件, 那么这时候区间长度就是0了).

以下假设循环是从小到大的.

---

考虑st可能超过ed的情况, 也就是某个区间无解的情况.

情况1, st的速度快于ed(因为ed是条件变化), 需要让慢的ed强制至少和st同步,  
为了满足区间约束, 那么我们需要`ed = max(ed, st)`, 即强制复位不合法的区间端点.

情况2则不会出现st会超过ed的情况(因为st是条件变化).

简单来说可以在每次操作区间之前强制st和ed满足`st <= ed`的关系, 即维护st在ed后面的性质.

---

## 总结

### 要素

1. 区间端点左闭右闭.

2. 方向明确.

3. 2重循环, 固定点在外层循环, 条件点在内层循环.

4. 内层循环开始前, 可以强制复位不合法的区间端点.

5. 答案一般是区间的长度, 或者是端点加减的函数维护了答案.

6. 答案记录在固定点下标.
